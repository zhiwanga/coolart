(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-detail"],{"08e5":function(t,a,e){var i=e("3a04");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("0d159583",i,!0,{sourceMap:!1,shadowMode:!1})},"0c71":function(t,a,e){t.exports=e.p+"static/img/story_02.e2848f40.png"},1150:function(t,a,e){"use strict";var i=e("4ea4");e("ac1f"),e("5319"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("7cd2")),o={data:function(){return{detailImg:e("2596"),storyImg:e("32d9"),noticeText:"数字藏品为虚拟数字商品，而非实物，仅限实名认证为年满14周岁的中国大陆用户购买。数字藏品的版权由发行方或原创者拥有，除另行取得版权拥有者书面同意外，用户不得将数字藏品用于任何商业用途。本商品一经售出，不支持退换。本商品源文件不支持本地下载。请勿对数字藏品进行炒作、场外交易、欺诈，或以任何其他非法方式进行使用。",detailList:{},detailType:!0,payType:!1,payArr:[{name:"微信",image:"/static/wechat.png"},{name:"支付宝",image:"/static/zfb.png"}],payIndex:0,showIcon:!0}},onLoad:function(t){console.log(t),this.getDetailList(t.id),1==t.type&&(this.detailType=!1)},methods:{getDetailList:function(t){var a=this;this.$request("get","Goods/goodsDetails",{goodsid:t}).then((function(t){console.log("res",t),t.data.goodsdetails.content=n.default.formatRichText(t.data.goodsdetails.content),a.detailList=t.data.goodsdetails;var e=new Date(t.data.goodsdetails.startTime.replace(/-/g,"/")).getTime(),i=(new Date).getTime();return a.showIcon=i>e})).catch((function(t){console.log("err",t)}))},submit:function(){var t=this;0==this.payIndex?uni.request({url:"https://shucang.zhongyuansc.net/index.php?s=/api/Checkout/ordersWe",header:{"Access-Token":uni.getStorageSync("userinfo").token||"",platform:"H5"},method:"POST",data:{goodsid:this.detailList.goods_id,userid:uni.getStorageSync("userinfo").userId,isBox:0,pay_type:20},success:function(a){if(500==a.data.status)return t.$showToast(a.data.message);console.log("dd",a);var e=a.data+"&redirect_url="+encodeURIComponent("https://shucang.zhongyuansc.net/#/pages/order/index");console.log("asd",e),location.href=e}}):1==this.payIndex&&uni.request({url:"https://shucang.zhongyuansc.net/index.php?s=/api/Checkout/orders",header:{"Access-Token":uni.getStorageSync("userinfo").token||"",platform:"H5"},method:"POST",data:{goodsid:this.detailList.goods_id,userid:uni.getStorageSync("userinfo").userId,isBox:0,pay_type:30},success:function(t){document.querySelector("body").innerHTML=t.data,document.forms[0].submit()}})},changeType:function(t){this.payIndex=t},buy:function(t){this.payType=!0}}};a.default=o},"16f4":function(t,a,e){"use strict";e.r(a);var i=e("803c"),n=e("5789");for(var o in n)"default"!==o&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("7601");var s,r=e("f0c5"),d=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"862ba69a",null,!1,i["a"],s);a["default"]=d.exports},"1de5":function(t,a,e){"use strict";t.exports=function(t,a){return a||(a={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),a.hash&&(t+=a.hash),/["'() \t\n]/.test(t)||a.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},2596:function(t,a,e){t.exports=e.p+"static/img/story_03.8252b782.png"},"32d9":function(t,a,e){t.exports=e.p+"static/img/story.a6dd6950.png"},"3a04":function(t,a,e){var i=e("24fb"),n=e("1de5"),o=e("0c71");a=i(!1);var s=n(o);a.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-862ba69a]{background-color:#0c0d0d}.detail[data-v-862ba69a]{width:100%;padding:0 %?30?% %?120?%;box-sizing:border-box}.detail .detail-image[data-v-862ba69a]{width:100%;text-align:center;-webkit-transform:translateZ(0);transform:translateZ(0)}.detail .detail-image .detail-img[data-v-862ba69a]{width:70%;-webkit-animation:detail-data-v-862ba69a 20s infinite;animation:detail-data-v-862ba69a 20s infinite;-webkit-transform:translateZ(%?2?%);transform:translateZ(%?2?%)}.detail .exhibition[data-v-862ba69a]{width:100%;padding:%?100?% 0 %?100?%;background:url('+s+") no-repeat;background-size:100% 100%;font-size:%?45?%;color:#fff;text-align:center}.detail .exhibition .titleTop[data-v-862ba69a]{margin-top:%?50?%;font-weight:700}.detail .exhibition .number[data-v-862ba69a]{display:flex;align-items:center;justify-content:center;font-size:%?28?%;margin:%?20?% 0}.detail .exhibition .number .numText[data-v-862ba69a]{display:flex;align-items:center;border-radius:%?5?%;background:#4b4b4c;color:#f3e0bc;padding-right:%?20?%;margin-right:%?15?%}.detail .exhibition .number .numText .title[data-v-862ba69a]{background:#f3e0bc;padding:%?5?% %?10?%;color:#000;border-radius:%?5?%;margin-right:%?20?%}.detail .story[data-v-862ba69a]{width:100%;background:#181919;border-radius:%?30?%;color:#fff;padding:%?40?% %?30?%;margin-bottom:%?30?%;box-sizing:border-box}.detail .story .story-title[data-v-862ba69a]{font-size:%?50?%;font-weight:700;margin-bottom:%?20?%}.detail .story .story-content-img[data-v-862ba69a]{width:100%}.detail .story .story-author[data-v-862ba69a]{display:flex;align-items:center;justify-content:space-between;padding:%?30?% %?20?% %?20?%;color:#a3a3a3;font-size:%?35?%}.detail .story .story-author .story-author-text[data-v-862ba69a]{color:#fff}.detail .author[data-v-862ba69a]{width:100%;background:#181919;border-radius:%?30?%;color:#fff;padding:%?40?% %?30?%;margin-bottom:%?30?%}.detail .author uni-view[data-v-862ba69a]{margin-bottom:%?10?%}.detail .notice[data-v-862ba69a]{width:100%;background:#181919;border-radius:%?30?%;color:#fff;padding:%?40?% %?30?%;margin-bottom:%?30?%;box-sizing:border-box}.detail .notice .notice-title[data-v-862ba69a]{font-size:%?50?%;font-weight:700;margin-bottom:%?20?%}.detail .notice .notice-content[data-v-862ba69a]{color:#9b9b9b;letter-spacing:%?3.5?%}.detail .submit[data-v-862ba69a]{position:fixed;bottom:0;left:0;width:100%;display:flex;justify-content:space-between;align-items:center;padding:%?35?% %?30?%;background:#0d0c0e;color:#fff;font-size:%?50?%;font-weight:700;box-sizing:border-box}.detail .submit .sub-price[data-v-862ba69a]{letter-spacing:%?5?%}.detail .submit .sub-btn[data-v-862ba69a]{font-size:%?30?%;background:#333;border-radius:%?50?%;padding:%?20?% %?50?%;text-align:center}@-webkit-keyframes detail-data-v-862ba69a{0%{-webkit-transform:rotateY(0);transform:rotateY(0)}50%{-webkit-transform:rotateY(1turn);transform:rotateY(1turn)}100%{-webkit-transform:rotateY(0);transform:rotateY(0)}}@keyframes detail-data-v-862ba69a{0%{-webkit-transform:rotateY(0);transform:rotateY(0)}50%{-webkit-transform:rotateY(1turn);transform:rotateY(1turn)}100%{-webkit-transform:rotateY(0);transform:rotateY(0)}}.back[data-v-862ba69a]{width:100%;height:100%;background-color:rgba(0,0,0,.5);position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center;z-index:999}.back .change[data-v-862ba69a]{width:86%;padding:%?30?%;background-color:#fff;border-radius:%?30?%;box-sizing:border-box}.back .change .title[data-v-862ba69a]{text-align:center}.back .change .item[data-v-862ba69a]{display:flex;align-items:center;margin-top:%?30?%;padding:%?10?%}.back .change .item .img[data-v-862ba69a]{width:%?64?%;height:%?64?%;margin-right:%?20?%}.back .change .item .img uni-image[data-v-862ba69a]{width:100%;height:100%}.back .change .active[data-v-862ba69a]{border:%?4?% dashed #f3e0bc;box-sizing:border-box}.back .yes[data-v-862ba69a]{width:80%;height:%?70?%;line-height:%?70?%;text-align:center;background-color:#f3e0bc;color:#000;margin:0 auto;margin-top:%?40?%;border-radius:%?34?%}body.?%PAGE?%[data-v-862ba69a]{background-color:#0c0d0d}",""]),t.exports=a},5789:function(t,a,e){"use strict";e.r(a);var i=e("1150"),n=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a},7601:function(t,a,e){"use strict";var i=e("08e5"),n=e.n(i);n.a},"7cd2":function(t,a,e){"use strict";function i(t){var a;return function(){var e=this,i=arguments;a&&clearTimeout(a),a=setTimeout((function(){t.apply(e,i)}),a)}}function n(t){return/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(t)}function o(t){return/^([\u4e00-\u9fa5]{1,20}|[a-zA-Z\.\s]{1,20})$/.test(t)}function s(t){var a=t.replace(/<img[^>]*>/gi,(function(t,a){return t=t.replace(/style="[^"]+"/gi,"").replace(/style='[^']+'/gi,""),t=t.replace(/width="[^"]+"/gi,"").replace(/width='[^']+'/gi,""),t=t.replace(/height="[^"]+"/gi,"").replace(/height='[^']+'/gi,""),t}));return a=a.replace(/style="[^"]+"/gi,(function(t,a){return t=t.replace(/width:[^;]+;/gi,"max-width:100%;").replace(/width:[^;]+;/gi,"max-width:100%;"),t})),a=a.replace(/<br[^>]*\/>/gi,""),a=a.replace(/\<img/gi,'<img style="max-width:100%;height:auto;display:block;margin-top:0;margin-bottom:0;"'),a}e("ac1f"),e("5319"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r={debounce:i,checkIdCard:n,checkName:o,formatRichText:s};a.default=r},"803c":function(t,a,e){"use strict";var i;e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return i}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"detail"},[e("v-uni-view",{staticClass:"detail-image"},[e("v-uni-image",{staticClass:"detail-img",attrs:{src:"https://shucang.zhongyuansc.net/uploads/"+t.detailList.file_path,mode:"widthFix"}})],1),e("v-uni-view",{staticClass:"exhibition"},[e("v-uni-view",{staticClass:"titleTop"},[t._v(t._s(t.detailList.goods_name))]),t.detailType?e("v-uni-view",{staticClass:"number"},[e("v-uni-view",{staticClass:"numText"},[e("v-uni-view",{staticClass:"title"},[t._v("限量")]),t._v(t._s(t.detailList.stock_total)+"份")],1),e("v-uni-view",{staticClass:"numText"},[e("v-uni-view",{staticClass:"title"},[t._v("剩余")]),t._v(t._s(t.detailList.stock_num)+"份")],1)],1):t._e()],1),e("v-uni-view",{staticClass:"story"},[e("v-uni-view",{staticClass:"story-title"},[t._v("作品故事")]),e("v-uni-view",{staticClass:"story-content"},[e("v-uni-rich-text",{attrs:{nodes:t.detailList.content}})],1)],1),e("v-uni-view",{staticClass:"author"},[e("v-uni-view",[e("v-uni-text",{staticStyle:{color:"#9B9B9B"}},[t._v("创造者:")]),t._v(t._s(t.detailList.author))],1),e("v-uni-view",[e("v-uni-text",{staticStyle:{color:"#9B9B9B"}},[t._v("合约地址:")]),t._v(t._s(t.detailList.goods_address))],1),e("v-uni-view",[e("v-uni-text",{staticStyle:{color:"#9B9B9B"}},[t._v("链上标识:")]),t._v(t._s(t.detailList.logo))],1)],1),t.detailType?e("v-uni-view",{staticClass:"notice"},[e("v-uni-view",{staticClass:"notice-title"},[t._v("购买须知")]),e("v-uni-view",{staticClass:"notice-content"},[t._v(t._s(t.noticeText))])],1):t._e(),t.detailType?e("v-uni-view",{staticClass:"submit"},[e("v-uni-view",{staticClass:"sub-price"},[t._v("￥"+t._s(t.detailList.goods_price_min))]),t.showIcon?e("v-uni-view",{staticClass:"sub-btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.buy(t.detailList.goods_id)}}},[t._v("立即购买")]):e("v-uni-view",{staticClass:"sub-btn"},[t._v("暂未开售")])],1):t._e(),t.payType?e("v-uni-view",{staticClass:"back",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.payType=!1}}},[e("v-uni-view",{staticClass:"change",on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a)}}},[e("v-uni-view",{staticClass:"title"},[t._v("选择支付方式")]),t._l(t.payArr,(function(a,i){return e("v-uni-view",{key:i,staticClass:"item",class:i==t.payIndex?"active":"",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.changeType(i)}}},[e("v-uni-view",{staticClass:"img"},[e("v-uni-image",{attrs:{src:a.image,mode:""}})],1),e("v-uni-view",[t._v(t._s(a.name))])],1)})),e("v-uni-view",{staticClass:"yes",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.submit.apply(void 0,arguments)}}},[t._v("确定")])],2)],1):t._e(),e("v-uni-form",{attrs:{id:"alipaysubmit",name:"alipaysubmit",action:"支付宝地址",method:"POST"}})],1)},o=[]}}]);